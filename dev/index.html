<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MySQL.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MySQL.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#High-level-interface-1">High-level interface</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/JuliaDatabases/MySQL.jl/blob/master/docs/src/index.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="MySQL.jl-Documentation-1" href="#MySQL.jl-Documentation-1">MySQL.jl Documentation</a></h1><ul><li><a href="#MySQL.jl-Documentation-1">MySQL.jl Documentation</a></li><ul><li><a href="#High-level-interface-1">High-level interface</a></li></ul></ul><h2><a class="nav-anchor" id="High-level-interface-1" href="#High-level-interface-1">High-level interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DBInterface.connect" href="#DBInterface.connect"><code>DBInterface.connect</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">DBInterface.connect(MySQL.Connection, host::String, user::String, passwd::String; db::String=&quot;&quot;, port::Integer=3306, unix_socket::String=API.MYSQL_DEFAULT_SOCKET, client_flag=API.CLIENT_MULTI_STATEMENTS, opts = Dict())</code></pre><p>Connect to a MySQL database with provided <code>host</code>, <code>user</code>, and <code>passwd</code> positional arguments. Supported keyword arguments include:</p><ul><li><code>db::String=&quot;&quot;</code>: attach to a database by default</li><li><code>port::Integer=3306</code>: connect to the database on a specific port</li><li><code>unix_socket::String</code>: specifies the socket or named pipe that should be used</li><li><code>found_rows::Bool=false</code>: Return the number of matched rows instead of number of changed rows</li><li><code>no_schema::Bool=false</code>: Forbids the use of database.tablename.column syntax and forces the SQL parser to generate an error.</li><li><code>compress::Bool=false</code>: Use compression protocol</li><li><code>ignore_space::Bool=false</code>: Allows spaces after function names. All function names will become reserved words.</li><li><code>local_files::Bool=false</code>: Allows LOAD DATA LOCAL statements</li><li><code>multi_statements::Bool=false</code>: Allows the client to send multiple statements in one command. Statements will be divided by a semicolon.</li><li><code>multi_results::Bool=false</code>: currently not supported by MySQL.jl</li><li><code>init_command=&quot;&quot;</code>: Command(s) which will be executed when connecting and reconnecting to the server.</li><li><code>connect_timeout::Integer</code>: Connect timeout in seconds</li><li><code>reconnect::Bool</code>: Enable or disable automatic reconnect.</li><li><code>read_timeout::Integer</code>: Specifies the timeout in seconds for reading packets from the server.</li><li><code>write_timeout::Integer</code>: Specifies the timeout in seconds for reading packets from the server.</li><li><code>data_truncation::Bool</code>: Enable or disable reporting data truncation errors for prepared statements</li><li><code>charset_dir::String</code>: character set files directory</li><li><code>charset_name::String</code>: Specify the default character set for the connection</li><li><code>bind::String</code>: Specify the network interface from which to connect to the database, like <code>&quot;192.168.8.3&quot;</code></li><li><code>max_allowed_packet::Integer</code>: The maximum packet length to send to or receive from server. The default is 16MB, the maximum 1GB.</li><li><code>net_buffer_length::Integer</code>: The buffer size for TCP/IP and socket communication. Default is 16KB.</li><li><code>named_pipe::Bool</code>: For Windows operating systems only: Use named pipes for client/server communication.</li><li><code>protocol::MySQL.API.mysql_protocol_type</code>: Specify the type of client/server protocol. Possible values are: <code>MySQL.API.MYSQL_PROTOCOL_TCP</code>, <code>MySQL.API.MYSQL_PROTOCOL_SOCKET</code>, <code>MySQL.API.MYSQL_PROTOCOL_PIPE</code>, <code>MySQL.API.MYSQL_PROTOCOL_MEMORY</code>.</li><li><code>ssl_key::String</code>: Defines a path to a private key file to use for TLS. This option requires that you use the absolute path, not a relative path. If the key is protected with a passphrase, the passphrase needs to be specified with <code>passphrase</code> keyword argument.</li><li><code>passphrase::String</code>: Specify a passphrase for a passphrase-protected private key, as configured by the <code>ssl_key</code> keyword argument.</li><li><code>ssl_cert::String</code>: Defines a path to the X509 certificate file to use for TLS. This option requires that you use the absolute path, not a relative path.</li><li><code>ssl_ca::String</code>: Defines a path to a PEM file that should contain one or more X509 certificates for trusted Certificate Authorities (CAs) to use for TLS. This option requires that you use the absolute path, not a relative path.</li><li><code>ssl_capath::String</code>: Defines a path to a directory that contains one or more PEM files that should each contain one X509 certificate for a trusted Certificate Authority (CA) to use for TLS. This option requires that you use the absolute path, not a relative path. The directory specified by this option needs to be run through the openssl rehash command.</li><li><code>ssl_cipher::String</code>: Defines a list of permitted ciphers or cipher suites to use for TLS, like <code>&quot;DHE-RSA-AES256-SHA&quot;</code></li><li><code>ssl_crl::String</code>: Defines a path to a PEM file that should contain one or more revoked X509 certificates to use for TLS. This option requires that you use the absolute path, not a relative path.</li><li><code>ssl_crlpath::String</code>: Defines a path to a directory that contains one or more PEM files that should each contain one revoked X509 certificate to use for TLS. This option requires that you use the absolute path, not a relative path. The directory specified by this option needs to be run through the openssl rehash command.</li><li><code>ssl_verify_server_cert::Bool</code>: Enables (or disables) server certificate verification.</li><li><code>ssl_enforce::Bool</code>: Whether to force TLS</li><li><code>default_auth::String</code>: Default authentication client-side plugin to use.</li><li><code>connection_handler::String</code>: Specify the name of a connection handler plugin.</li><li><code>plugin_dir::String</code>: Specify the location of client plugins. The plugin directory can also be specified with the MARIADB<em>PLUGIN</em>DIR environment variable.</li><li><code>secure_auth::Bool</code>: Refuse to connect to the server if the server uses the mysql<em>old</em>password authentication plugin. This mode is off by default, which is a difference in behavior compared to MySQL 5.6 and later, where it is on by default.</li><li><code>server_public_key::String</code>: Specifies the name of the file which contains the RSA public key of the database server. The format of this file must be in PEM format. This option is used by the caching<em>sha2</em>password client authentication plugin.</li><li><code>read_default_file::Bool</code>: only the default option files are read</li><li><code>option_file::String</code>: the argument is interpreted as a path to a custom option file, and only that option file is read.</li><li><code>read_default_group::Bool</code>: only the default option groups are read from specified option file(s)</li><li><code>option_group::String</code>: it is interpreted as a custom option group, and that custom option group is read in addition to the default option groups.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/MySQL.jl#LL206-L252">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DBInterface.close!" href="#DBInterface.close!"><code>DBInterface.close!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">DBInterface.close!(conn::MySQL.Connection)</code></pre><p>Close a <code>MySQL.Connection</code> opened by <code>DBInterface.connect</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/MySQL.jl#LL256-L260">source</a><div><div><pre><code class="language-none">DBInterface.close!(cursor)</code></pre><p>Close a cursor. No more results will be available.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/execute.jl#LL114-L118">source</a><div><div><pre><code class="language-none">DBInterface.close!(stmt)</code></pre><p>Close a prepared statement and free any underlying resources. The statement should not be used in any way afterwards.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/prepare.jl#LL25-L29">source</a><div><div><pre><code class="language-none">DBInterface.close!(cursor)</code></pre><p>Close a cursor. No more results will be available.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/prepare.jl#LL131-L135">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MySQL.escape" href="#MySQL.escape"><code>MySQL.escape</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">MySQL.escape(conn::MySQL.Connection, str::String) -&gt; String</code></pre><p>Escapes a string using <code>mysql_real_escape_string()</code>, returns the escaped string.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/MySQL.jl#LL283-L287">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DBInterface.execute" href="#DBInterface.execute"><code>DBInterface.execute</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">DBInterface.execute(conn::MySQL.Connection, sql) =&gt; MySQL.TextCursor</code></pre><p>Execute the SQL <code>sql</code> statement with the database connection <code>conn</code>. Parameter binding is only supported via prepared statements, see <code>?DBInterface.prepare(conn, sql)</code>. Returns a <code>Cursor</code> object, which iterates resultset rows and satisfies the <code>Tables.jl</code> interface, meaning results can be sent to any valid sink function (<code>DataFrame(cursor)</code>, <code>CSV.write(&quot;results.csv&quot;, cursor)</code>, etc.). Specifying <code>mysql_store_result=false</code> will avoid buffering the full resultset to the client after executing the query, which has memory use advantages, though ties up the database server since resultset rows must be fetched one at a time.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/execute.jl#LL121-L131">source</a><div><div><pre><code class="language-none">DBInterface.execute(stmt, params; mysql_store_result=true) =&gt; MySQL.Cursor</code></pre><p>Execute a prepared statement, optionally passing <code>params</code> to be bound as parameters (like <code>?</code> in the sql). Returns a <code>Cursor</code> object, which iterates resultset rows and satisfies the <code>Tables.jl</code> interface, meaning results can be sent to any valid sink function (<code>DataFrame(cursor)</code>, <code>CSV.write(&quot;results.csv&quot;, cursor)</code>, etc.). Specifying <code>mysql_store_result=false</code> will avoid buffering the full resultset to the client after executing the query, which has memory use advantages, though ties up the database server since resultset rows must be fetched one at a time.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/prepare.jl#LL140-L149">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DBInterface.prepare" href="#DBInterface.prepare"><code>DBInterface.prepare</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">DBInterface.prepare(conn::MySQL.Connection, sql) =&gt; MySQL.Statement</code></pre><p>Send a <code>sql</code> SQL string to the database to be prepared, returning a <code>MySQL.Statement</code> object that can be passed to <code>DBInterface.execute(stmt, args...)</code> to be repeatedly executed, optionally passing <code>args</code> for parameters to be bound on each execution.</p><p>Note that <code>DBInterface.close!(stmt)</code> should be called once statement executions are finished. Apart from freeing resources, it has been noted that too many unclosed statements and resultsets, used in conjunction with streaming queries (i.e. <code>mysql_store_result=false</code>) has led to occasional resultset corruption.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/prepare.jl#LL32-L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DBInterface.lastrowid" href="#DBInterface.lastrowid"><code>DBInterface.lastrowid</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">DBInterface.lastrowid(c::MySQL.TextCursor)</code></pre><p>Return the last inserted row id.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/execute.jl#LL104-L108">source</a><div><div><pre><code class="language-none">DBInterface.lastrowid(c::MySQL.Cursor)</code></pre><p>Return the last inserted row id.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaDatabases/MySQL.jl/blob/30c77046bee6645c06905715f9a5475e7d0a85ce/src/prepare.jl#LL121-L125">source</a></section><footer><hr/></footer></article></body></html>
